<div class="page-header">
    <h1>Edit Chart Volumes</h1>
</div>
<div class="well well-lg">
    <strong>Title</strong><br>{{chart.title}}
</div>

<div ng-hide="poll.userVoted">
    <p class="lead">Please select one of the following options:</p>

    <form role="form" ng-submit="vote()">
        <div ng-repeat="variable in chart.variables" class="radio">
            <label>
                <input type="radio" name="variable" ng-model="poll.userVote" value="{{variable._id}}">
                {{variable.text}}
            </label>
        </div>
        <p><hr></p>
        <div class="row">
            <div class="col-xs-6">
                <a href="#/charts" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span> Back to Poll List</a>
            </div>
            <div class="col-xs-6">
                <button class="btn btn-primary pull-right" type="submit">Vote &raquo;</button>
            </div>
        </div>
    </form>
</div>

<div ng-show="poll.userVoted">
    <table class="result-table">
        <tr ng-repeat="choice in poll.choices">
            <td>{{choice.text}}</td>
            <td>
                <table style="background-color: lightblue; width: {{choice.votes.length/poll.totalVotes*100}}%; text-align: right">
                    <tr><td>{{choice.votes.length}}</td></tr>
                </table>
            </td>
        </tr>
    </table>

    <p>
        <em>
            {{poll.totalVotes}} votes counted so far.
            <span ng-show="poll.userChoice">You voted for <strong>{{poll.userChoice.text}}</strong>.</span>
        </em>
    </p>

    <p><hr></p>

    <p><a href="#/charts" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span> Back to Charts List</a></p>
</div>

<p>&nbsp;</p>